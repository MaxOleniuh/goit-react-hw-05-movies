{"version":3,"file":"static/js/826.aaa2c1c9.chunk.js","mappings":"mPASA,EATmB,SAAC,GAA2C,IAA1CA,EAAyC,EAAzCA,aAAcC,EAA2B,EAA3BA,MAAOC,EAAoB,EAApBA,eAEtC,OACI,kBAAMC,SAAUD,EAAhB,WACI,kBAAOE,KAAK,OAAOC,YAAY,qBAAqBC,SAAU,SAACC,GAAD,OAAOP,EAAaO,EAApB,EAAwBC,MAAOP,IAC7FA,IAAS,mBAAQG,KAAK,SAAb,sBAGpB,ECqCD,EAxCkB,WACd,OAAkCK,EAAAA,EAAAA,UAAS,IAA3C,eAAOC,EAAP,KAAkBC,EAAlB,KACA,GAA0BF,EAAAA,EAAAA,UAAS,IAAnC,eAAOR,EAAP,KAAcW,EAAd,KACMC,GAAWC,EAAAA,EAAAA,MACnB,GAAwCC,EAAAA,EAAAA,MAAxC,eAAOC,EAAP,KAAqBC,EAArB,MACAC,EAAAA,EAAAA,YAAU,WAAO,IAAD,EACRjB,EAAK,UAAGe,EAAaG,IAAI,gBAApB,QAAgC,GACvC,GAAKlB,EACL,KACAmB,EAAAA,EAAAA,IAAkBnB,GAAOoB,MAAK,SAAAC,GAAG,OAAIX,EAAaW,EAAjB,GAGpC,CAFC,MAAOC,GACPC,QAAQC,IAAIF,EACb,CACF,GAAE,CAACtB,EAAOe,IAYX,OACI,4BACI,SAAC,EAAD,CAAYhB,aAZG,SAAAO,GACjBiB,QAAQC,IAAIlB,EAAEmB,cAAclB,OAC5BI,EAASL,EAAEmB,cAAclB,MAC9B,EAS+CP,MAAOA,EAAOC,eAPvC,SAAAK,GACrBA,EAAEoB,iBACFV,EAA0B,KAAVhB,EAAe,CAACA,MAAAA,GAAS,CAAC,EAC3C,KAKG,wBACGS,EAAUkB,KAAI,SAAAC,GAAQ,OACrB,eAAsBC,MAAOD,EAASC,MAAtC,UACE,SAAC,KAAD,CAAMC,GAAE,kBAAaF,EAASG,IAAMC,MAAO,CAACC,KAAMrB,GAAlD,SACGgB,EAASC,SAFLD,EAASG,GADG,QAU9B,C,mMC3CDG,EAAAA,EAAAA,SAAAA,QAAyB,+BACzB,IAAMC,EAAU,mCAEHC,EAAsB,mCAAG,6GAEXF,EAAAA,EAAAA,IAAU,oBAAqB,CACpDG,OAAQ,CACNC,QAASH,KAJqB,cAE5BI,EAF4B,yBAO3BA,EAASC,KAAKC,SAPa,gCASlClB,QAAQC,IAAR,MATkC,yDAAH,qDAatBL,EAAiB,mCAAG,WAAMnB,GAAN,gGAENkC,EAAAA,EAAAA,IAAU,gBAAiB,CAChDG,OAAQ,CACNC,QAASH,EACTnC,MAAOA,KALkB,cAEvBuC,EAFuB,yBAQtBA,EAASC,KAAKC,SARQ,gCAU7BlB,QAAQC,IAAR,MAV6B,yDAAH,sDAcjBkB,EAAoB,mCAAG,WAAMX,GAAN,gGAETG,EAAAA,EAAAA,IAAA,iBAAoBH,GAAM,CAC/CM,OAAQ,CACNC,QAASH,KAJmB,cAE1BI,EAF0B,yBAOzBA,EAASC,MAPgB,gCAShCjB,QAAQC,IAAR,MATgC,yDAAH,sDAapBmB,EAAiB,mCAAG,WAAMZ,GAAN,gGAENG,EAAAA,EAAAA,IAAA,iBAAoBH,EAApB,YAAkC,CACvDM,OAAQ,CACNC,QAASH,KAJgB,cAEvBI,EAFuB,yBAOtBA,EAASC,MAPa,gCAS7BjB,QAAQC,IAAR,MAT6B,yDAAH,sDAajBoB,EAAoB,mCAAG,WAAMb,GAAN,gGAETG,EAAAA,EAAAA,IAAA,iBAAoBH,EAApB,YAAkC,CACvDM,OAAQ,CACNC,QAASH,KAJmB,cAE1BI,EAF0B,yBAOzBA,EAASC,MAPgB,gCAShCjB,QAAQC,IAAR,MATgC,yDAAH,qD","sources":["components/MoviesForm/MoviesForm.jsx","pages/KeyMovies/KeyMovies.jsx","services/moviesApi.js"],"sourcesContent":["const MoviesForm = ({changeFilter, query, onHandleSubmit}) => {\n    \n    return (\n        <form onSubmit={onHandleSubmit}>\n            <input type=\"text\" placeholder=\"Search for a movie\" onChange={(e) => changeFilter(e)} value={query} />\n          { query && <button type=\"submit\">Search</button>}\n        </form>\n    )\n}\nexport default MoviesForm;","import { useEffect, useState } from 'react';\nimport { Link, useLocation, useSearchParams } from 'react-router-dom';\nimport { fetchKeyMoviesApi } from 'services/moviesApi';\nimport MoviesForm from 'components/MoviesForm/MoviesForm';\n\nconst KeyMovies = () => {\n    const [keyMovies, setKeyMovies] = useState([]);\n    const [query, setQuery] = useState('');\n    const location = useLocation();\n  const [searchParams, setSearchParams] = useSearchParams();\n  useEffect(() => {\n    const query = searchParams.get('query') ?? '';\n        if (!query) return;\n        try {\n        fetchKeyMoviesApi(query).then(res => setKeyMovies(res))\n    } catch (error) {\n      console.log(error);\n    } \n  }, [query, searchParams]);\n\n    const changeFilter = e => {\n        console.log(e.currentTarget.value);\n        setQuery(e.currentTarget.value)\n  }\n   \n  const onHandleSubmit = e => {\n    e.preventDefault();\n    setSearchParams(query !== '' ? {query} : {});\n  }\n    \n  return (\n      <div>\n          <MoviesForm changeFilter={changeFilter} query={query} onHandleSubmit={onHandleSubmit} />\n      <ul> \n        {keyMovies.map(keyMovie => (\n          <li key={keyMovie.id} title={keyMovie.title}>\n            <Link to={`/movies/${keyMovie.id}`} state={{from: location}}>\n              {keyMovie.title}\n            </Link>\n          </li>\n        ))}\n      </ul>\n    </div>\n  );\n};\nexport default KeyMovies;\n","import axios from 'axios';\naxios.defaults.baseURL = 'https://api.themoviedb.org/3';\nconst API_KEY = '0899cb23c3aa3793d7d2c78c362ea8dc';\n\nexport const fetchTrendingMoviesApi = async () => {\n  try {\n    const response = await axios.get('/trending/all/day', {\n      params: {\n        api_key: API_KEY,\n      },\n    });\n    return response.data.results;\n  } catch (error) {\n    console.log(error);\n  }\n};\n\nexport const fetchKeyMoviesApi = async query => {\n  try {\n    const response = await axios.get('/search/movie', {\n      params: {\n        api_key: API_KEY,\n        query: query,\n      },\n    });\n    return response.data.results;\n  } catch (error) {\n    console.log(error);\n  }\n};\n\nexport const fetchMovieDetailsApi = async id => {\n  try {\n    const response = await axios.get(`/movie/${id}`, {\n      params: {\n        api_key: API_KEY,\n      },\n    });\n    return response.data;\n  } catch (error) {\n    console.log(error);\n  }\n};\n\nexport const fetchMovieCastApi = async id => {\n  try {\n    const response = await axios.get(`/movie/${id}/credits`, {\n      params: {\n        api_key: API_KEY,\n      },\n    });\n    return response.data;\n  } catch (error) {\n    console.log(error);\n  }\n};\n\nexport const fetchMovieReviewsApi = async id => {\n  try {\n    const response = await axios.get(`/movie/${id}/reviews`, {\n      params: {\n        api_key: API_KEY,\n      },\n    });\n    return response.data;\n  } catch (error) {\n    console.log(error);\n  }\n};\n"],"names":["changeFilter","query","onHandleSubmit","onSubmit","type","placeholder","onChange","e","value","useState","keyMovies","setKeyMovies","setQuery","location","useLocation","useSearchParams","searchParams","setSearchParams","useEffect","get","fetchKeyMoviesApi","then","res","error","console","log","currentTarget","preventDefault","map","keyMovie","title","to","id","state","from","axios","API_KEY","fetchTrendingMoviesApi","params","api_key","response","data","results","fetchMovieDetailsApi","fetchMovieCastApi","fetchMovieReviewsApi"],"sourceRoot":""}