{"version":3,"file":"static/js/826.ebee2dd9.chunk.js","mappings":"gPASA,EATmB,SAAC,GAA2C,IAA1CA,EAAyC,EAAzCA,aAAcC,EAA2B,EAA3BA,MAAOC,EAAoB,EAApBA,eAEtC,OACI,kBAAMC,SAAUD,EAAhB,WACI,kBAAOE,KAAK,OAAOC,YAAY,qBAAqBC,SAAU,SAACC,GAAD,OAAOP,EAAaO,EAApB,EAAwBC,MAAOP,IAC7FA,IAAS,mBAAQG,KAAK,SAAb,sBAGpB,ECqCD,EAxCkB,WACd,OAAkCK,EAAAA,EAAAA,UAAS,IAA3C,eAAOC,EAAP,KAAkBC,EAAlB,KACA,GAA0BF,EAAAA,EAAAA,UAAS,IAAnC,eAAOR,EAAP,KAAcW,EAAd,KACMC,GAAWC,EAAAA,EAAAA,MACnB,GAAwCC,EAAAA,EAAAA,MAAxC,eAAOC,EAAP,KAAqBC,EAArB,MACAC,EAAAA,EAAAA,YAAU,WAAO,IAAD,EACRjB,EAAK,UAAGe,EAAaG,IAAI,gBAApB,QAAgC,GACvC,GAAKlB,EACL,KACAmB,EAAAA,EAAAA,IAAkBnB,GAAOoB,MAAK,SAAAC,GAAG,OAAIX,EAAaW,EAAjB,GAGpC,CAFC,MAAOC,GACPC,QAAQC,IAAIF,EACb,CACF,GAAE,CAACtB,EAAOe,IAYX,OACI,4BACI,SAAC,EAAD,CAAYhB,aAZG,SAAAO,GACjBiB,QAAQC,IAAIlB,EAAEmB,cAAclB,OAC5BI,EAASL,EAAEmB,cAAclB,MAC9B,EAS+CP,MAAOA,EAAOC,eAPvC,SAAAK,GACrBA,EAAEoB,iBACFV,EAA0B,KAAVhB,EAAe,CAACA,MAAAA,GAAS,CAAC,EAC3C,KAKG,wBACGS,EAAUkB,KAAI,SAAAC,GAAQ,OACrB,eAAsBC,MAAOD,EAASC,MAAtC,UACE,SAAC,KAAD,CAAMC,GAAE,kBAAaF,EAASG,IAAMC,MAAO,CAACC,KAAMrB,GAAlD,SACGgB,EAASC,SAFLD,EAASG,GADG,QAU9B,C","sources":["components/MoviesForm/MoviesForm.jsx","pages/KeyMovies/KeyMovies.jsx"],"sourcesContent":["const MoviesForm = ({changeFilter, query, onHandleSubmit}) => {\n    \n    return (\n        <form onSubmit={onHandleSubmit}>\n            <input type=\"text\" placeholder=\"Search for a movie\" onChange={(e) => changeFilter(e)} value={query} />\n          { query && <button type=\"submit\">Search</button>}\n        </form>\n    )\n}\nexport default MoviesForm;","import { useEffect, useState } from 'react';\nimport { Link, useLocation, useSearchParams } from 'react-router-dom';\nimport { fetchKeyMoviesApi } from 'services/moviesApi';\nimport MoviesForm from 'components/MoviesForm/MoviesForm';\n\nconst KeyMovies = () => {\n    const [keyMovies, setKeyMovies] = useState([]);\n    const [query, setQuery] = useState('');\n    const location = useLocation();\n  const [searchParams, setSearchParams] = useSearchParams();\n  useEffect(() => {\n    const query = searchParams.get('query') ?? '';\n        if (!query) return;\n        try {\n        fetchKeyMoviesApi(query).then(res => setKeyMovies(res))\n    } catch (error) {\n      console.log(error);\n    } \n  }, [query, searchParams]);\n\n    const changeFilter = e => {\n        console.log(e.currentTarget.value);\n        setQuery(e.currentTarget.value)\n  }\n   \n  const onHandleSubmit = e => {\n    e.preventDefault();\n    setSearchParams(query !== '' ? {query} : {});\n  }\n    \n  return (\n      <div>\n          <MoviesForm changeFilter={changeFilter} query={query} onHandleSubmit={onHandleSubmit} />\n      <ul> \n        {keyMovies.map(keyMovie => (\n          <li key={keyMovie.id} title={keyMovie.title}>\n            <Link to={`/movies/${keyMovie.id}`} state={{from: location}}>\n              {keyMovie.title}\n            </Link>\n          </li>\n        ))}\n      </ul>\n    </div>\n  );\n};\nexport default KeyMovies;\n"],"names":["changeFilter","query","onHandleSubmit","onSubmit","type","placeholder","onChange","e","value","useState","keyMovies","setKeyMovies","setQuery","location","useLocation","useSearchParams","searchParams","setSearchParams","useEffect","get","fetchKeyMoviesApi","then","res","error","console","log","currentTarget","preventDefault","map","keyMovie","title","to","id","state","from"],"sourceRoot":""}